{
    "sourceFile": "frontend/src/components/Navbar.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 8,
            "patches": [
                {
                    "date": 1747297239020,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1747300528573,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,11 +17,8 @@\n             alt=\"Amazon Logo\"\r\n             className=\"navbar__logoImage\"\r\n           />\r\n         </Link>\r\n-        <Link to=\"/\">Home</Link>\r\n-      <Link to=\"/products\">Product Listing</Link>\r\n-      <Link to=\"/users\">User Listing</Link>\r\n       </div>\r\n \r\n       {/* Search Bar */}\r\n       <div className=\"navbar__search\">\r\n"
                },
                {
                    "date": 1747650134653,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -21,21 +21,29 @@\n       </div>\r\n \r\n       {/* Search Bar */}\r\n       <div className=\"navbar__search\">\r\n-        <input type=\"text\" placeholder=\"Search...\" />\r\n+        <input\r\n+          type=\"text\"\r\n+          placeholder=\"Search for products, brands, and more...\"\r\n+          className=\"navbar__searchInput\"\r\n+        />\r\n         <button className=\"navbar__searchButton\">Search</button>\r\n       </div>\r\n \r\n-      {/* Links and Cart */}\r\n+      {/* Navigation Links */}\r\n       <div className=\"navbar__links\">\r\n-        <Link to=\"/\">Home</Link>\r\n-        <Link to=\"/add-product\">Add Product</Link>\r\n+        <Link to=\"/\" className=\"navbar__link\">Home</Link>\r\n+        <Link to=\"/add-product\" className=\"navbar__link\">Add Product</Link>\r\n+        <Link to=\"/orders\" className=\"navbar__link\">Orders</Link>\r\n+        <Link to=\"/account\" className=\"navbar__link\">Account</Link>\r\n+\r\n+        {/* Cart Icon */}\r\n         <Link to=\"/cart\" className=\"navbar__cart\">\r\n           <img\r\n             src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ33yFKFOQOLGIuLlE561R5UNHAoitYY3ivpA&s\"\r\n             alt=\"Cart\"\r\n-            style={{ width: '45px', height: '30px', marginLeft: '5px'}} // Inline CSS\r\n+            className=\"navbar__cartIcon\"\r\n           />\r\n           {cartItemCount > 0 && (\r\n             <span className=\"navbar__cartCount\">{cartItemCount}</span>\r\n           )}\r\n"
                },
                {
                    "date": 1747654796040,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,13 +1,45 @@\n-import React from 'react';\r\n-import { Link } from 'react-router-dom';\r\n-import { useCart } from '../context/CartContext';  \r\n+import React, { useEffect, useState } from 'react';\r\n+import { Link, useNavigate } from 'react-router-dom';\r\n+import { useCart } from '../context/CartContext';\r\n+import axios from 'axios';\r\n import './Navbar.css';\r\n \r\n const Navbar = () => {\r\n   const { cart } = useCart();\r\n   const cartItemCount = cart?.length || 0;\r\n+  const [user, setUser] = useState(null);\r\n+  const navigate = useNavigate();\r\n \r\n+  // Fetch user profile on load\r\n+  useEffect(() => {\r\n+    const fetchUserProfile = async () => {\r\n+      const token = localStorage.getItem('token');\r\n+      if (token) {\r\n+        try {\r\n+          const config = {\r\n+            headers: {\r\n+              Authorization: `Bearer ${token}`,\r\n+            },\r\n+          };\r\n+          const { data } = await axios.get('http://localhost:5000/api/users/profile', config);\r\n+          setUser(data);\r\n+        } catch (error) {\r\n+          console.log('Failed to fetch user profile:', error);\r\n+        }\r\n+      }\r\n+    };\r\n+\r\n+    fetchUserProfile();\r\n+  }, []);\r\n+\r\n+  // Handle Logout\r\n+  const handleLogout = () => {\r\n+    localStorage.removeItem('token');\r\n+    setUser(null);\r\n+    navigate('/login');\r\n+  };\r\n+\r\n   return (\r\n     <div className=\"navbar\">\r\n       {/* Amazon Logo */}\r\n       <div className=\"navbar__logo\">\r\n@@ -21,29 +53,37 @@\n       </div>\r\n \r\n       {/* Search Bar */}\r\n       <div className=\"navbar__search\">\r\n-        <input\r\n-          type=\"text\"\r\n-          placeholder=\"Search for products, brands, and more...\"\r\n-          className=\"navbar__searchInput\"\r\n-        />\r\n+        <input type=\"text\" placeholder=\"Search...\" />\r\n         <button className=\"navbar__searchButton\">Search</button>\r\n       </div>\r\n \r\n-      {/* Navigation Links */}\r\n+      {/* Links and Cart */}\r\n       <div className=\"navbar__links\">\r\n-        <Link to=\"/\" className=\"navbar__link\">Home</Link>\r\n-        <Link to=\"/add-product\" className=\"navbar__link\">Add Product</Link>\r\n-        <Link to=\"/orders\" className=\"navbar__link\">Orders</Link>\r\n-        <Link to=\"/account\" className=\"navbar__link\">Account</Link>\r\n+        <Link to=\"/\">Home</Link>\r\n+        <Link to=\"/add-product\">Add Product</Link>\r\n+        \r\n+        {user ? (\r\n+          <>\r\n+            <Link to=\"/profile\">{user.name}</Link>\r\n+            <Link to=\"/orders\">My Orders</Link>\r\n+            <button className=\"navbar__logoutButton\" onClick={handleLogout}>\r\n+              Logout\r\n+            </button>\r\n+          </>\r\n+        ) : (\r\n+          <>\r\n+            <Link to=\"/login\">Login</Link>\r\n+            <Link to=\"/register\">Register</Link>\r\n+          </>\r\n+        )}\r\n \r\n-        {/* Cart Icon */}\r\n         <Link to=\"/cart\" className=\"navbar__cart\">\r\n           <img\r\n             src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ33yFKFOQOLGIuLlE561R5UNHAoitYY3ivpA&s\"\r\n             alt=\"Cart\"\r\n-            className=\"navbar__cartIcon\"\r\n+            style={{ width: '45px', height: '30px', marginLeft: '5px' }}\r\n           />\r\n           {cartItemCount > 0 && (\r\n             <span className=\"navbar__cartCount\">{cartItemCount}</span>\r\n           )}\r\n"
                },
                {
                    "date": 1747724458463,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -65,8 +65,9 @@\n         \r\n         {user ? (\r\n           <>\r\n             <Link to=\"/profile\">{user.name}</Link>\r\n+            <Link to=\"/my-orders\" className=\"hover:text-yellow-300\">My Orders</Link>\r\n             <Link to=\"/orders\">My Orders</Link>\r\n             <button className=\"navbar__logoutButton\" onClick={handleLogout}>\r\n               Logout\r\n             </button>\r\n"
                },
                {
                    "date": 1747725085785,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -67,8 +67,9 @@\n           <>\r\n             <Link to=\"/profile\">{user.name}</Link>\r\n             <Link to=\"/my-orders\" className=\"hover:text-yellow-300\">My Orders</Link>\r\n             <Link to=\"/orders\">My Orders</Link>\r\n+            <Link to=\"/admin/orders\" className=\"hover:text-red-400\">Admin Orders</Link>\r\n             <button className=\"navbar__logoutButton\" onClick={handleLogout}>\r\n               Logout\r\n             </button>\r\n           </>\r\n"
                },
                {
                    "date": 1747725669983,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -68,8 +68,9 @@\n             <Link to=\"/profile\">{user.name}</Link>\r\n             <Link to=\"/my-orders\" className=\"hover:text-yellow-300\">My Orders</Link>\r\n             <Link to=\"/orders\">My Orders</Link>\r\n             <Link to=\"/admin/orders\" className=\"hover:text-red-400\">Admin Orders</Link>\r\n+            <Link to=\"/admin/products\" className=\"hover:text-red-400\">Manage Products</Link>\r\n             <button className=\"navbar__logoutButton\" onClick={handleLogout}>\r\n               Logout\r\n             </button>\r\n           </>\r\n"
                },
                {
                    "date": 1748241584974,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,9 +9,8 @@\n   const cartItemCount = cart?.length || 0;\r\n   const [user, setUser] = useState(null);\r\n   const navigate = useNavigate();\r\n \r\n-  // Fetch user profile on load\r\n   useEffect(() => {\r\n     const fetchUserProfile = async () => {\r\n       const token = localStorage.getItem('token');\r\n       if (token) {\r\n@@ -31,9 +30,8 @@\n \r\n     fetchUserProfile();\r\n   }, []);\r\n \r\n-  // Handle Logout\r\n   const handleLogout = () => {\r\n     localStorage.removeItem('token');\r\n     setUser(null);\r\n     navigate('/login');\r\n@@ -53,40 +51,43 @@\n       </div>\r\n \r\n       {/* Search Bar */}\r\n       <div className=\"navbar__search\">\r\n-        <input type=\"text\" placeholder=\"Search...\" />\r\n+        <input type=\"text\" className=\"navbar__searchInput\" placeholder=\"Search...\" />\r\n         <button className=\"navbar__searchButton\">Search</button>\r\n       </div>\r\n \r\n       {/* Links and Cart */}\r\n       <div className=\"navbar__links\">\r\n-        <Link to=\"/\">Home</Link>\r\n-        <Link to=\"/add-product\">Add Product</Link>\r\n-        \r\n+        <Link to=\"/\" className=\"navbar__link\">Home</Link>\r\n+        <Link to=\"/add-product\" className=\"navbar__link\">Add Product</Link>\r\n+\r\n         {user ? (\r\n           <>\r\n-            <Link to=\"/profile\">{user.name}</Link>\r\n-            <Link to=\"/my-orders\" className=\"hover:text-yellow-300\">My Orders</Link>\r\n-            <Link to=\"/orders\">My Orders</Link>\r\n-            <Link to=\"/admin/orders\" className=\"hover:text-red-400\">Admin Orders</Link>\r\n-            <Link to=\"/admin/products\" className=\"hover:text-red-400\">Manage Products</Link>\r\n-            <button className=\"navbar__logoutButton\" onClick={handleLogout}>\r\n+            <Link to=\"/profile\" className=\"navbar__link\">{user.name}</Link>\r\n+            <Link to=\"/my-orders\" className=\"navbar__link\">My Orders</Link>\r\n+            {user.role === 'admin' && (\r\n+              <>\r\n+                <Link to=\"/admin/orders\" className=\"navbar__link\">Admin Orders</Link>\r\n+                <Link to=\"/admin/products\" className=\"navbar__link\">Manage Products</Link>\r\n+              </>\r\n+            )}\r\n+            <button className=\"navbar__logoutButton navbar__link\" onClick={handleLogout}>\r\n               Logout\r\n             </button>\r\n           </>\r\n         ) : (\r\n           <>\r\n-            <Link to=\"/login\">Login</Link>\r\n-            <Link to=\"/register\">Register</Link>\r\n+            <Link to=\"/login\" className=\"navbar__link\">Login</Link>\r\n+            <Link to=\"/register\" className=\"navbar__link\">Register</Link>\r\n           </>\r\n         )}\r\n \r\n         <Link to=\"/cart\" className=\"navbar__cart\">\r\n           <img\r\n             src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ33yFKFOQOLGIuLlE561R5UNHAoitYY3ivpA&s\"\r\n             alt=\"Cart\"\r\n-            style={{ width: '45px', height: '30px', marginLeft: '5px' }}\r\n+            className=\"navbar__cartIcon\"\r\n           />\r\n           {cartItemCount > 0 && (\r\n             <span className=\"navbar__cartCount\">{cartItemCount}</span>\r\n           )}\r\n"
                },
                {
                    "date": 1748246622513,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,11 +4,12 @@\n import axios from 'axios';\r\n import './Navbar.css';\r\n \r\n const Navbar = () => {\r\n-  const { cart } = useCart();\r\n-  const cartItemCount = cart?.length || 0;\r\n+  const { cartItems } = useCart();\r\n+  const cartItemCount = cartItems?.length || 0;\r\n   const [user, setUser] = useState(null);\r\n+  const [searchTerm, setSearchTerm] = useState('');\r\n   const navigate = useNavigate();\r\n \r\n   useEffect(() => {\r\n     const fetchUserProfile = async () => {\r\n@@ -36,11 +37,23 @@\n     setUser(null);\r\n     navigate('/login');\r\n   };\r\n \r\n+  const handleSearch = () => {\r\n+    if (searchTerm.trim()) {\r\n+      navigate(`/search?q=${searchTerm.trim()}`);\r\n+      setSearchTerm('');\r\n+    }\r\n+  };\r\n+\r\n+  const handleKeyDown = (e) => {\r\n+    if (e.key === 'Enter') {\r\n+      handleSearch();\r\n+    }\r\n+  };\r\n+\r\n   return (\r\n     <div className=\"navbar\">\r\n-      {/* Amazon Logo */}\r\n       <div className=\"navbar__logo\">\r\n         <Link to=\"/\">\r\n           <img\r\n             src=\"https://pngimg.com/uploads/amazon/amazon_PNG25.png\"\r\n@@ -49,15 +62,21 @@\n           />\r\n         </Link>\r\n       </div>\r\n \r\n-      {/* Search Bar */}\r\n+      {/* 🔍 Search Bar */}\r\n       <div className=\"navbar__search\">\r\n-        <input type=\"text\" className=\"navbar__searchInput\" placeholder=\"Search...\" />\r\n-        <button className=\"navbar__searchButton\">Search</button>\r\n+        <input\r\n+          type=\"text\"\r\n+          className=\"navbar__searchInput\"\r\n+          placeholder=\"Search...\"\r\n+          value={searchTerm}\r\n+          onChange={(e) => setSearchTerm(e.target.value)}\r\n+          onKeyDown={handleKeyDown}\r\n+        />\r\n+        <button className=\"navbar__searchButton\" onClick={handleSearch}>Search</button>\r\n       </div>\r\n \r\n-      {/* Links and Cart */}\r\n       <div className=\"navbar__links\">\r\n         <Link to=\"/\" className=\"navbar__link\">Home</Link>\r\n         <Link to=\"/add-product\" className=\"navbar__link\">Add Product</Link>\r\n \r\n"
                }
            ],
            "date": 1747297239020,
            "name": "Commit-0",
            "content": "import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useCart } from '../context/CartContext';  \r\nimport './Navbar.css';\r\n\r\nconst Navbar = () => {\r\n  const { cart } = useCart();\r\n  const cartItemCount = cart?.length || 0;\r\n\r\n  return (\r\n    <div className=\"navbar\">\r\n      {/* Amazon Logo */}\r\n      <div className=\"navbar__logo\">\r\n        <Link to=\"/\">\r\n          <img\r\n            src=\"https://pngimg.com/uploads/amazon/amazon_PNG25.png\"\r\n            alt=\"Amazon Logo\"\r\n            className=\"navbar__logoImage\"\r\n          />\r\n        </Link>\r\n        <Link to=\"/\">Home</Link>\r\n      <Link to=\"/products\">Product Listing</Link>\r\n      <Link to=\"/users\">User Listing</Link>\r\n      </div>\r\n\r\n      {/* Search Bar */}\r\n      <div className=\"navbar__search\">\r\n        <input type=\"text\" placeholder=\"Search...\" />\r\n        <button className=\"navbar__searchButton\">Search</button>\r\n      </div>\r\n\r\n      {/* Links and Cart */}\r\n      <div className=\"navbar__links\">\r\n        <Link to=\"/\">Home</Link>\r\n        <Link to=\"/add-product\">Add Product</Link>\r\n        <Link to=\"/cart\" className=\"navbar__cart\">\r\n          <img\r\n            src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ33yFKFOQOLGIuLlE561R5UNHAoitYY3ivpA&s\"\r\n            alt=\"Cart\"\r\n            style={{ width: '45px', height: '30px', marginLeft: '5px'}} // Inline CSS\r\n          />\r\n          {cartItemCount > 0 && (\r\n            <span className=\"navbar__cartCount\">{cartItemCount}</span>\r\n          )}\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Navbar;"
        }
    ]
}