{
    "sourceFile": "frontend/src/pages/MyOrders.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 3,
            "patches": [
                {
                    "date": 1747653324957,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1747654374462,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,41 +2,61 @@\n import axios from 'axios';\r\n \r\n const MyOrders = () => {\r\n   const [orders, setOrders] = useState([]);\r\n+  const [loading, setLoading] = useState(true);\r\n \r\n   useEffect(() => {\r\n     const fetchOrders = async () => {\r\n-      const token = localStorage.getItem('token');\r\n-      if (token) {\r\n-        try {\r\n-          const config = {\r\n-            headers: {\r\n-              Authorization: `Bearer ${token}`,\r\n-            },\r\n-          };\r\n-          const { data } = await axios.get('http://localhost:5000/api/orders/myorders', config);\r\n-          setOrders(data);\r\n-        } catch (error) {\r\n-          console.log('Failed to fetch orders:', error);\r\n-        }\r\n+      try {\r\n+        const token = localStorage.getItem('token');\r\n+        const config = {\r\n+          headers: {\r\n+            Authorization: `Bearer ${token}`,\r\n+          },\r\n+        };\r\n+\r\n+        const { data } = await axios.get('http://localhost:5000/api/orders/myorders', config);\r\n+        setOrders(data);\r\n+        setLoading(false);\r\n+      } catch (error) {\r\n+        console.error('Failed to fetch orders:', error);\r\n       }\r\n     };\r\n \r\n     fetchOrders();\r\n   }, []);\r\n \r\n   return (\r\n-    <div>\r\n+    <div className=\"orders-page\">\r\n       <h2>My Orders</h2>\r\n-      {orders.length > 0 ? (\r\n-        <ul>\r\n-          {orders.map((order, index) => (\r\n-            <li key={index}>\r\n-              Order ID: {order._id} | Total: ₹{order.totalPrice} | Status: {order.isDelivered ? 'Delivered' : 'Pending'}\r\n-            </li>\r\n-          ))}\r\n-        </ul>\r\n+      {loading ? (\r\n+        <p>Loading your orders...</p>\r\n+      ) : orders.length > 0 ? (\r\n+        <table className=\"orders-table\">\r\n+          <thead>\r\n+            <tr>\r\n+              <th>Order ID</th>\r\n+              <th>Total Price</th>\r\n+              <th>Payment Method</th>\r\n+              <th>Paid</th>\r\n+              <th>Delivered</th>\r\n+              <th>Order Date</th>\r\n+            </tr>\r\n+          </thead>\r\n+          <tbody>\r\n+            {orders.map((order) => (\r\n+              <tr key={order._id}>\r\n+                <td>{order._id}</td>\r\n+                <td>${order.totalPrice.toFixed(2)}</td>\r\n+                <td>{order.paymentMethod}</td>\r\n+                <td>{order.isPaid ? 'Yes' : 'No'}</td>\r\n+                <td>{order.isDelivered ? 'Yes' : 'No'}</td>\r\n+                <td>{new Date(order.createdAt).toLocaleDateString()}</td>\r\n+              </tr>\r\n+            ))}\r\n+          </tbody>\r\n+        </table>\r\n       ) : (\r\n         <p>No orders found.</p>\r\n       )}\r\n     </div>\r\n"
                },
                {
                    "date": 1747654422601,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,7 @@\n import React, { useEffect, useState } from 'react';\r\n import axios from 'axios';\r\n+import './MyOrders.css';\r\n \r\n const MyOrders = () => {\r\n   const [orders, setOrders] = useState([]);\r\n   const [loading, setLoading] = useState(true);\r\n"
                },
                {
                    "date": 1747721159778,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -50,8 +50,9 @@\n                 <td>{order._id}</td>\r\n                 <td>${order.totalPrice.toFixed(2)}</td>\r\n                 <td>{order.paymentMethod}</td>\r\n                 <td>{order.isPaid ? 'Yes' : 'No'}</td>\r\n+                <td>{order.isPaid ? new Date(order.paidAt).toLocaleDateString() : 'No'}</td>\r\n                 <td>{order.isDelivered ? 'Yes' : 'No'}</td>\r\n                 <td>{new Date(order.createdAt).toLocaleDateString()}</td>\r\n               </tr>\r\n             ))}\r\n"
                }
            ],
            "date": 1747653324957,
            "name": "Commit-0",
            "content": "import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst MyOrders = () => {\r\n  const [orders, setOrders] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchOrders = async () => {\r\n      const token = localStorage.getItem('token');\r\n      if (token) {\r\n        try {\r\n          const config = {\r\n            headers: {\r\n              Authorization: `Bearer ${token}`,\r\n            },\r\n          };\r\n          const { data } = await axios.get('http://localhost:5000/api/orders/myorders', config);\r\n          setOrders(data);\r\n        } catch (error) {\r\n          console.log('Failed to fetch orders:', error);\r\n        }\r\n      }\r\n    };\r\n\r\n    fetchOrders();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <h2>My Orders</h2>\r\n      {orders.length > 0 ? (\r\n        <ul>\r\n          {orders.map((order, index) => (\r\n            <li key={index}>\r\n              Order ID: {order._id} | Total: ₹{order.totalPrice} | Status: {order.isDelivered ? 'Delivered' : 'Pending'}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      ) : (\r\n        <p>No orders found.</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyOrders;"
        }
    ]
}