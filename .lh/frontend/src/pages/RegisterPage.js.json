{
    "sourceFile": "frontend/src/pages/RegisterPage.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 2,
            "patches": [
                {
                    "date": 1747223649399,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1747740728439,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,19 +4,35 @@\n import { useNavigate } from 'react-router-dom';\r\n import { toast } from 'react-toastify';\r\n \r\n const RegisterPage = () => {\r\n-  const [user, setUser] = useState({ name: '', email: '', password: '' });\r\n-  const navigate = useNavigate();\r\n+  const [formData, setFormData] = useState({\r\n+    name: '',\r\n+    email: '',\r\n+    password: '',\r\n+  });\r\n+  const [loading, setLoading] = useState(false);\r\n+  const [error, setError] = useState('');\r\n \r\n+  const handleChange = (e) => {\r\n+    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n+  };\r\n+\r\n   const handleRegister = async (e) => {\r\n     e.preventDefault();\r\n+    setLoading(true);\r\n+    setError('');\r\n+\r\n     try {\r\n-      await axios.post('/api/auth/register', user);\r\n-      toast.success('Registered! Please login.');\r\n-      navigate('/login');\r\n+      const response = await axios.post('http://localhost:5000/api/auth/register', formData);\r\n+      console.log('Registration success:', response.data);\r\n+      alert('Registration successful! Please login.');\r\n+      // Redirect to login or clear form\r\n     } catch (err) {\r\n-      toast.error('Registration failed');\r\n+      console.error('Registration failed:', err.response?.data || err.message);\r\n+      setError(err.response?.data?.message || 'Registration failed');\r\n+    } finally {\r\n+      setLoading(false);\r\n     }\r\n   };\r\n \r\n   return (\r\n"
                },
                {
                    "date": 1747740956916,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,11 +1,9 @@\n-// src/pages/RegisterPage.js\r\n import React, { useState } from 'react';\r\n import axios from 'axios';\r\n-import { useNavigate } from 'react-router-dom';\r\n-import { toast } from 'react-toastify';\r\n \r\n const RegisterPage = () => {\r\n+  const [user, setUser] = useState(null);  // <=== Add this line\r\n   const [formData, setFormData] = useState({\r\n     name: '',\r\n     email: '',\r\n     password: '',\r\n@@ -24,10 +22,11 @@\n \r\n     try {\r\n       const response = await axios.post('http://localhost:5000/api/auth/register', formData);\r\n       console.log('Registration success:', response.data);\r\n+      setUser(response.data.user);  // if your backend returns user info here\r\n       alert('Registration successful! Please login.');\r\n-      // Redirect to login or clear form\r\n+      // Optionally, redirect or clear form here\r\n     } catch (err) {\r\n       console.error('Registration failed:', err.response?.data || err.message);\r\n       setError(err.response?.data?.message || 'Registration failed');\r\n     } finally {\r\n@@ -35,25 +34,41 @@\n     }\r\n   };\r\n \r\n   return (\r\n-    <form onSubmit={handleRegister} style={styles.form}>\r\n+    <div>\r\n       <h2>Register</h2>\r\n-      <input placeholder=\"Name\" value={user.name} onChange={e => setUser({ ...user, name: e.target.value })} required />\r\n-      <input placeholder=\"Email\" value={user.email} onChange={e => setUser({ ...user, email: e.target.value })} required />\r\n-      <input placeholder=\"Password\" type=\"password\" value={user.password} onChange={e => setUser({ ...user, password: e.target.value })} required />\r\n-      <button type=\"submit\">Register</button>\r\n-    </form>\r\n+      {error && <p style={{ color: 'red' }}>{error}</p>}\r\n+      <form onSubmit={handleRegister}>\r\n+        <input\r\n+          type=\"text\"\r\n+          name=\"name\"\r\n+          placeholder=\"Name\"\r\n+          value={formData.name}\r\n+          onChange={handleChange}\r\n+          required\r\n+        />\r\n+        <input\r\n+          type=\"email\"\r\n+          name=\"email\"\r\n+          placeholder=\"Email\"\r\n+          value={formData.email}\r\n+          onChange={handleChange}\r\n+          required\r\n+        />\r\n+        <input\r\n+          type=\"password\"\r\n+          name=\"password\"\r\n+          placeholder=\"Password\"\r\n+          value={formData.password}\r\n+          onChange={handleChange}\r\n+          required\r\n+        />\r\n+        <button type=\"submit\" disabled={loading}>\r\n+          {loading ? 'Registering...' : 'Register'}\r\n+        </button>\r\n+      </form>\r\n+    </div>\r\n   );\r\n };\r\n \r\n-const styles = {\r\n-  form: {\r\n-    maxWidth: '300px',\r\n-    margin: '2rem auto',\r\n-    display: 'flex',\r\n-    flexDirection: 'column',\r\n-    gap: '1rem'\r\n-  }\r\n-};\r\n-\r\n export default RegisterPage;\n\\ No newline at end of file\n"
                }
            ],
            "date": 1747223649399,
            "name": "Commit-0",
            "content": "// src/pages/RegisterPage.js\r\nimport React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst RegisterPage = () => {\r\n  const [user, setUser] = useState({ name: '', email: '', password: '' });\r\n  const navigate = useNavigate();\r\n\r\n  const handleRegister = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await axios.post('/api/auth/register', user);\r\n      toast.success('Registered! Please login.');\r\n      navigate('/login');\r\n    } catch (err) {\r\n      toast.error('Registration failed');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleRegister} style={styles.form}>\r\n      <h2>Register</h2>\r\n      <input placeholder=\"Name\" value={user.name} onChange={e => setUser({ ...user, name: e.target.value })} required />\r\n      <input placeholder=\"Email\" value={user.email} onChange={e => setUser({ ...user, email: e.target.value })} required />\r\n      <input placeholder=\"Password\" type=\"password\" value={user.password} onChange={e => setUser({ ...user, password: e.target.value })} required />\r\n      <button type=\"submit\">Register</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst styles = {\r\n  form: {\r\n    maxWidth: '300px',\r\n    margin: '2rem auto',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    gap: '1rem'\r\n  }\r\n};\r\n\r\nexport default RegisterPage;"
        }
    ]
}